{"ast":null,"code":"var _jsxFileName = \"/home/andre/Desktop/Histop\\xF3lio/histopolio/histopolio-app/client/src/app/pages/Signup.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Signup() {\n  _s();\n\n  const [name, setName] = useState(\"\");\n  const [nameErrorMessage, setNameErrorMessage] = useState(\"\");\n  const [avatar, setAvatar] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [emailErrorMessage, setEmailErrorMessage] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordErrorMessage, setPasswordErrorMessage] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [confirmPasswordErrorMessage, setConfirmPasswordErrorMessage] = useState(\"\");\n  const [showAlert, setShowAlert] = useState(false);\n  const {\n    errorMessage,\n    signup\n  } = useAuth();\n\n  const handleClick = () => {\n    setShowAlert(false);\n    let nameError = false;\n    let emailError = false;\n    let passwordError = false;\n    let confirmPasswordError = false;\n    setNameErrorMessage(\"\");\n    setEmailErrorMessage(\"\");\n    setPasswordErrorMessage(\"\");\n    setConfirmPasswordErrorMessage(\"\");\n    const nameInput = document.getElementById(\"nameInput\");\n    nameInput.style.borderColor = \"#ced4da\";\n    const emailInput = document.getElementById(\"emailInput\");\n    emailInput.style.borderColor = \"#ced4da\";\n    const passwordInput = document.getElementById(\"passwordInput\");\n    passwordInput.style.borderColor = \"#ced4da\";\n    const confirmPasswordInput = document.getElementById(\"confirmPasswordInput\");\n    confirmPasswordInput.style.borderColor = \"#ced4da\"; // name validation\n\n    if (name.length === 0) {\n      nameError = true;\n      setNameErrorMessage(\"Por favor introduz o teu nome.\");\n    } // TODO: verificar tamanho máximo\n\n\n    if (nameError) {\n      nameInput.style.borderColor = \"red\";\n    } // avatar validation\n\n\n    const avatarToSend = avatar.length > 0 ? avatar : \"https://tleliteracy.com/wp-content/uploads/2017/02/default-avatar.png\"; // email validation\n\n    if (email.length === 0) {\n      emailError = true;\n      setEmailErrorMessage(\"Por favor introduz um email válido.\");\n    } else if (!/\\w*@up.pt/.test(email)) {\n      emailError = true;\n      setEmailErrorMessage(\"Por favor introduz um email válido (formato: utilizador@up.pt).\");\n    }\n\n    if (emailError) {\n      emailInput.style.borderColor = \"red\";\n    } // password validation\n\n\n    if (password.length === 0) {\n      passwordError = true;\n      setPasswordErrorMessage(\"Por favor introduz uma password.\");\n    }\n\n    if (passwordError) {\n      passwordInput.style.borderColor = \"red\";\n    } // confirm password validation\n\n\n    if (confirmPassword.length === 0) {\n      confirmPasswordError = true;\n      setConfirmPasswordErrorMessage(\"Confirma a tua password.\");\n    } else if (password !== confirmPassword) {\n      confirmPasswordError = true;\n      setConfirmPasswordErrorMessage(\"As passwords não são iguais.\");\n    }\n\n    if (confirmPasswordError) {\n      confirmPasswordInput.style.borderColor = \"red\";\n    }\n\n    if (!(nameError || emailError || passwordError || confirmPasswordError)) {\n      signup(name, avatarToSend, email, password);\n      setShowAlert(true);\n    }\n  };\n\n  const handleNameChange = e => {\n    setName(e.target.value);\n  };\n\n  const handleAvatarChange = e => {\n    setAvatar(e.target.value);\n  };\n\n  const handleEmailChange = e => {\n    setEmail(e.target.value);\n  };\n\n  const handlePasswordChange = e => {\n    setPassword(e.target.value);\n  };\n\n  const handleConfirmPasswordChange = e => {\n    setConfirmPassword(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row m-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-sm-12 col-md-8 col-lg-6 mx-auto\",\n      children: [showAlert && errorMessage.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        role: \"alert\",\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"name\",\n          className: \"col-sm-3 col-form-label\",\n          children: \"Nome\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-9\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"nameInput\",\n            name: \"name\",\n            onChange: handleNameChange,\n            value: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-danger\",\n            children: nameErrorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group row mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"avatar\",\n          className: \"col-sm-3 col-form-label\",\n          children: \"Link do Avatar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-9\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"avatarInput\",\n            name: \"avatar\",\n            onChange: handleAvatarChange,\n            value: avatar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-3\",\n        children: avatar.length > 0 ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: avatar,\n          alt: \"Avatar\",\n          className: \"rounded-circle\",\n          style: {\n            objectFit: \"cover\",\n            width: \"250px\",\n            height: \"250px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://tleliteracy.com/wp-content/uploads/2017/02/default-avatar.png\",\n          alt: \"Avatar\",\n          className: \"rounded-circle\",\n          style: {\n            objectFit: \"cover\",\n            width: \"250px\",\n            height: \"250px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group row mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"email\",\n          className: \"col-sm-3 col-form-label\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-9\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: \"form-control\",\n            id: \"emailInput\",\n            name: \"email\",\n            onChange: handleEmailChange,\n            value: email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-danger\",\n            children: emailErrorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group row mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"password\",\n          className: \"col-sm-3 col-form-label\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-9\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            id: \"passwordInput\",\n            name: \"password\",\n            onChange: handlePasswordChange,\n            value: password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-danger\",\n            children: passwordErrorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group row mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"confirmPassword\",\n          className: \"col-sm-3 col-form-label\",\n          children: \"Confirma a Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-9\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            id: \"confirmPasswordInput\",\n            name: \"confirmPassword\",\n            onChange: handleConfirmPasswordChange,\n            value: confirmPassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-danger\",\n            children: confirmPasswordErrorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary btn-lg mt-4\",\n          onClick: handleClick,\n          children: \"Criar conta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-4 text-center\",\n        children: [\"J\\xE1 tens uma conta? Faz o login \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: \"aqui\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 42\n        }, this), \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Signup, \"CAY5pP2NFWXWfGfV5oNqBIAjJnk=\", false, function () {\n  return [useAuth];\n});\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["/home/andre/Desktop/Histopólio/histopolio/histopolio-app/client/src/app/pages/Signup.jsx"],"names":["React","useState","Link","useAuth","Signup","name","setName","nameErrorMessage","setNameErrorMessage","avatar","setAvatar","email","setEmail","emailErrorMessage","setEmailErrorMessage","password","setPassword","passwordErrorMessage","setPasswordErrorMessage","confirmPassword","setConfirmPassword","confirmPasswordErrorMessage","setConfirmPasswordErrorMessage","showAlert","setShowAlert","errorMessage","signup","handleClick","nameError","emailError","passwordError","confirmPasswordError","nameInput","document","getElementById","style","borderColor","emailInput","passwordInput","confirmPasswordInput","length","avatarToSend","test","handleNameChange","e","target","value","handleAvatarChange","handleEmailChange","handlePasswordChange","handleConfirmPasswordChange","objectFit","width","height"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { useAuth } from \"../context/AuthContext\";\n\nfunction Signup() {\n  const [name, setName] = useState(\"\");\n  const [nameErrorMessage, setNameErrorMessage] = useState(\"\");\n  const [avatar, setAvatar] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [emailErrorMessage, setEmailErrorMessage] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordErrorMessage, setPasswordErrorMessage] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [\n    confirmPasswordErrorMessage,\n    setConfirmPasswordErrorMessage,\n  ] = useState(\"\");\n  const [showAlert, setShowAlert] = useState(false);\n\n  const { errorMessage, signup } = useAuth();\n\n  const handleClick = () => {\n    setShowAlert(false);\n\n    let nameError = false;\n    let emailError = false;\n    let passwordError = false;\n    let confirmPasswordError = false;\n\n    setNameErrorMessage(\"\");\n    setEmailErrorMessage(\"\");\n    setPasswordErrorMessage(\"\");\n    setConfirmPasswordErrorMessage(\"\");\n\n    const nameInput = document.getElementById(\"nameInput\");\n    nameInput.style.borderColor = \"#ced4da\";\n\n    const emailInput = document.getElementById(\"emailInput\");\n    emailInput.style.borderColor = \"#ced4da\";\n\n    const passwordInput = document.getElementById(\"passwordInput\");\n    passwordInput.style.borderColor = \"#ced4da\";\n\n    const confirmPasswordInput = document.getElementById(\n      \"confirmPasswordInput\"\n    );\n    confirmPasswordInput.style.borderColor = \"#ced4da\";\n\n    // name validation\n    if (name.length === 0) {\n      nameError = true;\n      setNameErrorMessage(\"Por favor introduz o teu nome.\");\n    }\n    // TODO: verificar tamanho máximo\n\n    if (nameError) {\n      nameInput.style.borderColor = \"red\";\n    }\n\n    // avatar validation\n    const avatarToSend =\n      avatar.length > 0\n        ? avatar\n        : \"https://tleliteracy.com/wp-content/uploads/2017/02/default-avatar.png\";\n\n    // email validation\n    if (email.length === 0) {\n      emailError = true;\n      setEmailErrorMessage(\"Por favor introduz um email válido.\");\n    } else if (!/\\w*@up.pt/.test(email)) {\n      emailError = true;\n      setEmailErrorMessage(\n        \"Por favor introduz um email válido (formato: utilizador@up.pt).\"\n      );\n    }\n\n    if (emailError) {\n      emailInput.style.borderColor = \"red\";\n    }\n\n    // password validation\n    if (password.length === 0) {\n      passwordError = true;\n      setPasswordErrorMessage(\"Por favor introduz uma password.\");\n    }\n\n    if (passwordError) {\n      passwordInput.style.borderColor = \"red\";\n    }\n\n    // confirm password validation\n    if (confirmPassword.length === 0) {\n      confirmPasswordError = true;\n      setConfirmPasswordErrorMessage(\"Confirma a tua password.\");\n    } else if (password !== confirmPassword) {\n      confirmPasswordError = true;\n      setConfirmPasswordErrorMessage(\"As passwords não são iguais.\");\n    }\n\n    if (confirmPasswordError) {\n      confirmPasswordInput.style.borderColor = \"red\";\n    }\n\n    if (!(nameError || emailError || passwordError || confirmPasswordError)) {\n      signup(name, avatarToSend, email, password);\n      setShowAlert(true);\n    }\n  };\n\n  const handleNameChange = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleAvatarChange = (e) => {\n    setAvatar(e.target.value);\n  };\n\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleConfirmPasswordChange = (e) => {\n    setConfirmPassword(e.target.value);\n  };\n\n  return (\n    <div className=\"row m-4\">\n      <div className=\"col-sm-12 col-md-8 col-lg-6 mx-auto\">\n        {showAlert && errorMessage.length > 0 && (\n          <div className=\"alert alert-danger\" role=\"alert\">\n            {errorMessage}\n          </div>\n        )}\n        <div className=\"form-group row\">\n          <label for=\"name\" className=\"col-sm-3 col-form-label\">\n            Nome\n          </label>\n          <div className=\"col-sm-9\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"nameInput\"\n              name=\"name\"\n              onChange={handleNameChange}\n              value={name}\n            />\n            <div className=\"text-danger\">{nameErrorMessage}</div>\n          </div>\n        </div>\n        <div className=\"form-group row mt-3\">\n          <label for=\"avatar\" className=\"col-sm-3 col-form-label\">\n            Link do Avatar\n          </label>\n          <div className=\"col-sm-9\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"avatarInput\"\n              name=\"avatar\"\n              onChange={handleAvatarChange}\n              value={avatar}\n            />\n          </div>\n        </div>\n        <div className=\"text-center mt-3\">\n          {avatar.length > 0 ? (\n            <img\n              src={avatar}\n              alt=\"Avatar\"\n              className=\"rounded-circle\"\n              style={{ objectFit: \"cover\", width: \"250px\", height: \"250px\" }}\n            />\n          ) : (\n            <img\n              src=\"https://tleliteracy.com/wp-content/uploads/2017/02/default-avatar.png\"\n              alt=\"Avatar\"\n              className=\"rounded-circle\"\n              style={{ objectFit: \"cover\", width: \"250px\", height: \"250px\" }}\n            />\n          )}\n        </div>\n        <div className=\"form-group row mt-3\">\n          <label for=\"email\" className=\"col-sm-3 col-form-label\">\n            Email\n          </label>\n          <div className=\"col-sm-9\">\n            <input\n              type=\"email\"\n              className=\"form-control\"\n              id=\"emailInput\"\n              name=\"email\"\n              onChange={handleEmailChange}\n              value={email}\n            />\n            <div className=\"text-danger\">{emailErrorMessage}</div>\n          </div>\n        </div>\n        <div className=\"form-group row mt-3\">\n          <label for=\"password\" className=\"col-sm-3 col-form-label\">\n            Password\n          </label>\n          <div className=\"col-sm-9\">\n            <input\n              type=\"password\"\n              className=\"form-control\"\n              id=\"passwordInput\"\n              name=\"password\"\n              onChange={handlePasswordChange}\n              value={password}\n            />\n            <div className=\"text-danger\">{passwordErrorMessage}</div>\n          </div>\n        </div>\n        <div className=\"form-group row mt-3\">\n          <label for=\"confirmPassword\" className=\"col-sm-3 col-form-label\">\n            Confirma a Password\n          </label>\n          <div className=\"col-sm-9\">\n            <input\n              type=\"password\"\n              className=\"form-control\"\n              id=\"confirmPasswordInput\"\n              name=\"confirmPassword\"\n              onChange={handleConfirmPasswordChange}\n              value={confirmPassword}\n            />\n            <div className=\"text-danger\">{confirmPasswordErrorMessage}</div>\n          </div>\n        </div>\n        <div className=\"text-center\">\n          <button className=\"btn btn-primary btn-lg mt-4\" onClick={handleClick}>\n            Criar conta\n          </button>\n        </div>\n        <p className=\"mt-4 text-center\">\n          Já tens uma conta? Faz o login <Link to=\"/login\">aqui</Link>.\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}