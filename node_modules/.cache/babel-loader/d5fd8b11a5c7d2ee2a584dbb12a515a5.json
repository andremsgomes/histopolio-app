{"ast":null,"code":"var _jsxFileName = \"/home/andre/Desktop/Histop\\xF3lio/histopolio/histopolio-app/client/src/app/context/AuthContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, createContext, useContext } from \"react\";\nimport api from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\n\nfunction AuthProvider(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [user, setUser] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  async function login(email, password) {\n    const payload = {\n      email,\n      password\n    };\n    await api.login(payload).then(res => {\n      setErrorMessage(\"\");\n      setUser(res.data);\n    }).catch(error => {\n      var _error$response, _error$response$data;\n\n      if ((_error$response = error.response) !== null && _error$response !== void 0 && (_error$response$data = _error$response.data) !== null && _error$response$data !== void 0 && _error$response$data.message) setErrorMessage(error.response.data.message);else setErrorMessage(error.message);\n    });\n  }\n\n  async function signup(name, email, password) {\n    const payload = {\n      name,\n      email,\n      password\n    };\n    await api.signup(payload).then(res => {\n      setUser(res.data);\n    }).catch(error => {\n      var _error$response2, _error$response2$data;\n\n      if ((_error$response2 = error.response) !== null && _error$response2 !== void 0 && (_error$response2$data = _error$response2.data) !== null && _error$response2$data !== void 0 && _error$response2$data.message) setErrorMessage(error.response.data.message);else setErrorMessage(error.message);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user,\n      errorMessage,\n      login,\n      signup\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AuthProvider, \"h9wrf+en/gyFU9ThfH8VrdxWz9s=\");\n\n_c = AuthProvider;\n\nconst useAuth = () => {\n  _s2();\n\n  return useContext(AuthContext);\n};\n\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport default AuthContext;\nexport { AuthProvider, useAuth };\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"sources":["/home/andre/Desktop/HistopÃ³lio/histopolio/histopolio-app/client/src/app/context/AuthContext.js"],"names":["React","useState","createContext","useContext","api","AuthContext","AuthProvider","children","user","setUser","errorMessage","setErrorMessage","login","email","password","payload","then","res","data","catch","error","response","message","signup","name","useAuth"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,aAA1B,EAAyCC,UAAzC,QAA2D,OAA3D;AAEA,OAAOC,GAAP,MAAgB,QAAhB;;AAEA,MAAMC,WAAW,gBAAGH,aAAa,EAAjC;;AAEA,SAASI,YAAT,OAAoC;AAAA;;AAAA,MAAd;AAAEC,IAAAA;AAAF,GAAc;AAClC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAM,CAACS,YAAD,EAAeC,eAAf,IAAkCV,QAAQ,CAAC,EAAD,CAAhD;;AAEA,iBAAeW,KAAf,CAAqBC,KAArB,EAA4BC,QAA5B,EAAsC;AACpC,UAAMC,OAAO,GAAG;AAAEF,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAhB;AAEA,UAAMV,GAAG,CACNQ,KADG,CACGG,OADH,EAEHC,IAFG,CAEGC,GAAD,IAAS;AACbN,MAAAA,eAAe,CAAC,EAAD,CAAf;AACAF,MAAAA,OAAO,CAACQ,GAAG,CAACC,IAAL,CAAP;AACD,KALG,EAMHC,KANG,CAMIC,KAAD,IAAW;AAAA;;AAChB,6BAAIA,KAAK,CAACC,QAAV,oEAAI,gBAAgBH,IAApB,iDAAI,qBAAsBI,OAA1B,EACEX,eAAe,CAACS,KAAK,CAACC,QAAN,CAAeH,IAAf,CAAoBI,OAArB,CAAf,CADF,KAEKX,eAAe,CAACS,KAAK,CAACE,OAAP,CAAf;AACN,KAVG,CAAN;AAWD;;AAED,iBAAeC,MAAf,CAAsBC,IAAtB,EAA4BX,KAA5B,EAAmCC,QAAnC,EAA6C;AAC3C,UAAMC,OAAO,GAAG;AAAES,MAAAA,IAAF;AAAQX,MAAAA,KAAR;AAAeC,MAAAA;AAAf,KAAhB;AAEA,UAAMV,GAAG,CACNmB,MADG,CACIR,OADJ,EAEHC,IAFG,CAEGC,GAAD,IAAS;AACbR,MAAAA,OAAO,CAACQ,GAAG,CAACC,IAAL,CAAP;AACD,KAJG,EAKHC,KALG,CAKIC,KAAD,IAAW;AAAA;;AAChB,8BAAIA,KAAK,CAACC,QAAV,sEAAI,iBAAgBH,IAApB,kDAAI,sBAAsBI,OAA1B,EACEX,eAAe,CAACS,KAAK,CAACC,QAAN,CAAeH,IAAf,CAAoBI,OAArB,CAAf,CADF,KAEKX,eAAe,CAACS,KAAK,CAACE,OAAP,CAAf;AACN,KATG,CAAN;AAUD;;AAED,sBACE,QAAC,WAAD,CAAa,QAAb;AACE,IAAA,KAAK,EAAE;AACLd,MAAAA,IADK;AAELE,MAAAA,YAFK;AAGLE,MAAAA,KAHK;AAILW,MAAAA;AAJK,KADT;AAAA,cAQGhB;AARH;AAAA;AAAA;AAAA;AAAA,UADF;AAYD;;GA/CQD,Y;;KAAAA,Y;;AAiDT,MAAMmB,OAAO,GAAG;AAAA;;AAAA,SAAMtB,UAAU,CAACE,WAAD,CAAhB;AAAA,CAAhB;;IAAMoB,O;;AAEN,eAAepB,WAAf;AAEA,SAASC,YAAT,EAAuBmB,OAAvB","sourcesContent":["import React, { useState, createContext, useContext } from \"react\";\n\nimport api from \"../api\";\n\nconst AuthContext = createContext();\n\nfunction AuthProvider({ children }) {\n  const [user, setUser] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  async function login(email, password) {\n    const payload = { email, password };\n\n    await api\n      .login(payload)\n      .then((res) => {\n        setErrorMessage(\"\");\n        setUser(res.data);\n      })\n      .catch((error) => {\n        if (error.response?.data?.message)\n          setErrorMessage(error.response.data.message);\n        else setErrorMessage(error.message);\n      });\n  }\n\n  async function signup(name, email, password) {\n    const payload = { name, email, password };\n\n    await api\n      .signup(payload)\n      .then((res) => {\n        setUser(res.data);\n      })\n      .catch((error) => {\n        if (error.response?.data?.message)\n          setErrorMessage(error.response.data.message);\n        else setErrorMessage(error.message);\n      });\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        errorMessage,\n        login,\n        signup,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nconst useAuth = () => useContext(AuthContext);\n\nexport default AuthContext;\n\nexport { AuthProvider, useAuth };\n"]},"metadata":{},"sourceType":"module"}